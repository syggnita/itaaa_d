<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>azhr_nit — Bio Elegan</title>
<meta name="description" content="Bio elegan dengan galeri unggahan lokal dan catatan harian." />
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0a0c11; --bg2:#0d1118; --card:rgba(255,255,255,.06); --stroke:rgba(255,255,255,.10);
    --fg:#eef1f6; --muted:#aab2c2; --accent:#9b87f5; --accent2:#67b0ff;
    --radius:18px; --shadow:0 14px 48px rgba(0,0,0,.35)
  }
  @media (prefers-color-scheme:light){
    :root{--bg:#f6f7fb;--bg2:#ffffff;--card:rgba(255,255,255,.9);--stroke:#e7eaf2;--fg:#0e1220;--muted:#6b7382;--shadow:0 16px 48px rgba(25,28,40,.08)}
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--fg);
    font-family:"Plus Jakarta Sans",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    background:
      radial-gradient(1100px 600px at 95% -10%, rgba(103,176,255,.22), transparent 60%),
      radial-gradient(1000px 550px at -10% 110%, rgba(155,135,245,.22), transparent 60%),
      linear-gradient(160deg, var(--bg) 0%, var(--bg2) 100%);
    overflow-x:hidden;
  }

  /* ====== Hero ====== */
  .hero{position:relative; padding:70px 20px 30px; overflow:hidden; isolation:isolate}
  .container{max-width:1060px; margin:auto}
  .nav{display:flex; align-items:center; justify-content:space-between; gap:14px;
       padding:10px 16px; border-radius:999px; background:var(--card); border:1px solid var(--stroke);
       backdrop-filter:saturate(140%) blur(14px); box-shadow:var(--shadow)}
  .brand{display:flex; gap:12px; align-items:center}
  .avatar{width:44px; height:44px; border-radius:50%; overflow:hidden; border:1px solid var(--stroke)}
  .avatar img{width:100%; height:100%; object-fit:cover}
  .name{font-weight:700; letter-spacing:.2px}
  .handle{font:600 .92rem Inter,system-ui; color:var(--muted)}
  .tabs{display:flex; gap:8px; flex-wrap:wrap}
  .tab{padding:9px 14px; border-radius:999px; border:1px solid var(--stroke); background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
       color:var(--fg); font-weight:700; letter-spacing:.2px; cursor:pointer; transition:transform .06s, box-shadow .2s, border-color .2s}
  .tab:hover{transform:translateY(1px)}
  .tab[aria-selected="true"]{border-color:color-mix(in srgb, var(--accent) 55%, var(--stroke)); box-shadow:0 10px 26px rgba(155,135,245,.28)}
  .hero-head{margin-top:18px; display:flex; align-items:center; justify-content:space-between; gap:16px;
             padding:18px; border-radius:var(--radius); background:var(--card); border:1px solid var(--stroke); box-shadow:var(--shadow)}
  .title{font-size:clamp(1.35rem,2.3vw,1.85rem); font-weight:800; letter-spacing:.2px;
         background:linear-gradient(90deg, var(--fg), color-mix(in srgb, var(--accent) 40%, var(--fg)));
         -webkit-background-clip:text; background-clip:text; color:transparent}
  .subtitle{color:var(--muted); font:600 .98rem Inter,system-ui}

  /* background orbs */
  .orb{position:absolute; border-radius:50%; filter:blur(30px); opacity:.24; z-index:-1; animation:float 18s ease-in-out infinite}
  .orb.one{width:320px; height:320px; right:-80px; top:-60px; background:radial-gradient(circle at 30% 30%, #6fb5ff, transparent 60%)}
  .orb.two{width:360px; height:360px; left:-90px; bottom:-80px; background:radial-gradient(circle at 70% 70%, #a895ff, transparent 60%); animation-delay:2.4s}
  @keyframes float{50%{transform:translateY(16px)}}

  /* ====== Sections ====== */
  main{padding:26px 20px 60px}
  .card{background:var(--card); border:1px solid var(--stroke); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px}
  .section-title{margin:0 0 10px; font-size:clamp(1.12rem,1.8vw,1.34rem); font-weight:800}
  .fade{animation:fade .5s ease both} @keyframes fade{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}
  .reveal{opacity:0; transform:translateY(12px)} .reveal.show{opacity:1; transform:none; transition:opacity .6s, transform .6s}

  /* Upload row */
  .upload-row{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:12px}
  .btn{appearance:none; border:1px solid var(--stroke); border-radius:12px; padding:10px 14px; cursor:pointer;
       background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.05));
       color:var(--fg); font-weight:800; letter-spacing:.2px; box-shadow:var(--shadow); transition:transform .06s, border-color .2s}
  .btn:active{transform:translateY(1px)}
  .btn.primary{border-color:color-mix(in srgb, var(--accent) 48%, var(--stroke))}
  small.hint{color:var(--muted)}

  /* Chips */
  .chips{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px}
  .chip{padding:7px 12px; border-radius:999px; border:1px solid var(--stroke); background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); font-weight:700}
  .chip.warn{border-color:#eab30899}

  /* Gallery */
  .gallery{display:grid; gap:12px; grid-template-columns:repeat(auto-fit, minmax(160px, 1fr))}
  .tile{position:relative; overflow:hidden; border-radius:16px; border:1px solid var(--stroke); aspect-ratio:1/1;
        background:#0d0f13; transition:transform .25s, border-color .25s}
  .tile:hover{transform:translateY(-2px); border-color:color-mix(in srgb, var(--accent) 35%, var(--stroke))}
  .tile img{width:100%; height:100%; object-fit:cover; display:block; transition:transform .45s ease}
  .tile:hover img{transform:scale(1.03)}
  .badge{position:absolute; left:8px; top:8px; padding:4px 10px; border-radius:999px; background:rgba(0,0,0,.42); color:#fff; font:700 .72rem Inter}

  /* Lightbox */
  .lightbox{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.72); backdrop-filter:blur(10px); z-index:50}
  .lightbox.open{display:flex}
  .viewer{max-width:min(92vw,1100px); max-height:86vh; position:relative}
  .viewer img{width:100%; height:100%; object-fit:contain; border-radius:14px; background:#000}
  .ctrl{position:absolute; top:50%; transform:translateY(-50%); width:44px; height:44px; border-radius:999px; display:grid; place-items:center; cursor:pointer;
        background:rgba(255,255,255,.14); color:#fff; border:1px solid rgba(255,255,255,.25)}
  .ctrl.prev{left:-56px} .ctrl.next{right:-56px} .ctrl.close{top:-14px; right:-14px; transform:none}
  @media (max-width:760px){ .ctrl.prev{left:8px} .ctrl.next{right:8px} }

  /* Notes */
  .note-form{display:grid; gap:10px}
  textarea{width:100%; min-height:120px; border-radius:14px; padding:12px; resize:vertical; border:1px solid var(--stroke);
           background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.04)); color:var(--fg); font:500 1rem Inter}
  .notes{display:grid; gap:12px}
  .note{padding:12px; border:1px solid var(--stroke); border-radius:14px; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03))}
  .note small{color:var(--muted); font:600 .86rem Inter}
  .note .actions{display:flex; gap:8px; margin-top:8px}

  /* About */
  .about{display:grid; gap:14px}
  .link-row{display:flex; gap:10px; flex-wrap:wrap}
  .link{padding:10px 14px; border-radius:12px; border:1px solid var(--stroke); text-decoration:none; color:var(--fg); font-weight:800}

  footer{color:var(--muted); text-align:center; padding:38px 16px}
</style>
</head>
<body>
  <div class="hero">
    <div class="orb one"></div><div class="orb two"></div>
    <div class="container">
      <div class="nav">
        <div class="brand">
          <div class="avatar"><img src="images/profile.jpg" alt="Foto profil"></div>
          <div>
            <div class="name">azhr_nit</div>
            <div class="handle">@azhr_nit • Bio elegan</div>
          </div>
        </div>
        <div class="tabs" role="tablist" aria-label="Navigasi">
          <button class="tab" role="tab" aria-selected="true" data-target="albums">Album</button>
          <button class="tab" role="tab" aria-selected="false" data-target="notes">Catatan</button>
          <button class="tab" role="tab" aria-selected="false" data-target="about">About</button>
        </div>
      </div>

      <div class="hero-head fade">
        <div>
          <div class="title">Kisah kecil, visual berkelas.</div>
          <div class="subtitle">Galeri hanya dari unggahan lokal — privasi tetap di tanganmu.</div>
        </div>
      </div>
    </div>
  </div>

  <main class="container">
    <!-- ===== Album (Lokal saja) ===== -->
    <section id="albums" role="tabpanel" aria-labelledby="tab-albums">
      <div class="card fade">
        <h2 class="section-title">Unggahan Saya</h2>

        <div class="upload-row">
          <input id="uploader" type="file" accept="image/*" multiple hidden>
          <button class="btn primary" id="btn-upload">Unggah Foto</button>
          <small class="hint">Disimpan di perangkat (localStorage). Tidak diunggah ke server.</small>
        </div>

        <div class="chips">
          <button class="chip warn" id="btn-clear" title="Hapus semua unggahan lokal">Hapus Album Lokal</button>
          <button class="chip" id="btn-export" title="Unduh seluruh foto sebagai halaman HTML">Ekspor Album (.html)</button>
        </div>

        <div id="empty" class="fade" style="display:none; text-align:center; padding:22px 8px">
          <!-- Ilustrasi kosong (SVG) -->
          <svg width="84" height="84" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M3 7.5A2.5 2.5 0 0 1 5.5 5h13A2.5 2.5 0 0 1 21 7.5v9A2.5 2.5 0 0 1 18.5 19h-13A2.5 2.5 0 0 1 3 16.5v-9Z" stroke="currentColor" opacity=".3"/>
            <path d="M8 11.5c.6 0 1.1-.5 1.1-1.1S8.6 9.3 8 9.3s-1.1.5-1.1 1.1S7.4 11.5 8 11.5Z" fill="currentColor" opacity=".35"/>
            <path d="M4.5 16.2l4.1-4.1c.2-.2.5-.2.7 0l3.2 3.2 2.1-2.1c.2-.2.5-.2.7 0l3.1 3.1" stroke="currentColor" opacity=".5"/>
          </svg>
          <div class="subtitle" style="margin-top:8px">Belum ada foto. Tekan <b>Unggah Foto</b> untuk mulai.</div>
        </div>

        <div class="gallery" id="gallery"></div>
      </div>
    </section>

    <!-- ===== Notes ===== -->
    <section id="notes" hidden role="tabpanel" aria-labelledby="tab-notes">
      <div class="card fade">
        <h2 class="section-title">Catatan Harian</h2>
        <form class="note-form" id="note-form">
          <textarea id="note-text" placeholder="Tulis catatan singkat..."></textarea>
          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <button class="btn primary" type="submit">Simpan</button>
            <button class="btn" type="button" id="export-notes">Unduh .txt</button>
            <button class="btn" type="button" id="clear-notes">Hapus Semua</button>
          </div>
        </form>
        <div class="notes" id="notes-list"></div>
      </div>
    </section>

    <!-- ===== About ===== -->
    <section id="about" hidden role="tabpanel" aria-labelledby="tab-about">
      <div class="card fade">
        <h2 class="section-title">About</h2>
        <div class="about">
          <p class="subtitle">Halo! Saya <b>Azhar</b>. Ini halaman bio kecil dengan sentuhan elegan. Semua foto berasal dari unggahan lokal agar tetap privat & ringan.</p>
          <div>
            <div class="subtitle" style="margin-bottom:8px">Temui saya di:</div>
            <div class="link-row">
              <a class="link" href="https://instagram.com/azhr_nit" target="_blank" rel="noopener">Instagram</a>
              <a class="link" href="https://tiktok.com/@azhr_nit" target="_blank" rel="noopener">TikTok</a>
              <a class="link" href="mailto:azhar@example.com">Email</a>
              <a class="link" href="#" target="_blank" rel="noopener">Website</a>
            </div>
          </div>
          <div class="subtitle">Tip: kalau ingin sebagian foto tampil publik di GitHub, kamu bisa tambahkan folder <code>images/</code> dan panggil di kode—tapi versi ini sengaja lokal saja sesuai permintaan.</div>
        </div>
      </div>
    </section>
  </main>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="viewer">
      <img id="lb-img" alt="">
      <div class="ctrl close" id="lb-close" title="Tutup">✕</div>
      <div class="ctrl prev" id="lb-prev" title="Sebelumnya">❮</div>
      <div class="ctrl next" id="lb-next" title="Berikutnya">❯</div>
    </div>
  </div>

  <footer>© <span id="year"></span> azhr_nit · dibuat rapi & elegan.</footer>

<script>
/* ====== Util ====== */
const $ = s => document.querySelector(s);
const $$ = s => document.querySelectorAll(s);

/* ====== Tabs ====== */
const tabs = $$('.tab');
tabs.forEach(b=>{
  b.addEventListener('click', ()=>{
    tabs.forEach(t=>t.setAttribute('aria-selected','false'));
    b.setAttribute('aria-selected','true');
    const id=b.dataset.target;
    ['albums','notes','about'].forEach(k=>{
      const el=document.getElementById(k); el.hidden=(k!==id);
      if(!el.hidden) el.querySelectorAll('.reveal').forEach(x=>x.classList.remove('show'));
    });
    scrollReveal();
  });
});

/* ====== Local Album Storage ====== */
const LOCAL_KEY = 'azhr_local_photos_v2'; // array of dataURL
const readLocal = () => JSON.parse(localStorage.getItem(LOCAL_KEY) || '[]');
const writeLocal = arr => localStorage.setItem(LOCAL_KEY, JSON.stringify(arr));

/* ====== Gallery Render ====== */
let flat = []; let idx = 0;
function renderGallery(){
  const g = $('#gallery'); const empty = $('#empty');
  flat = readLocal().map((src,i)=>({src, alt:'Unggahan '+(i+1)}));
  g.innerHTML = '';
  if(!flat.length){ empty.style.display='block'; return; } else empty.style.display='none';

  flat.forEach((p,i)=>{
    const card = document.createElement('div'); card.className='tile reveal';
    const img = document.createElement('img'); img.loading='lazy'; img.src=p.src; img.alt=p.alt;
    const badge=document.createElement('div'); badge.className='badge'; badge.textContent='Unggahan';
    card.appendChild(img); card.appendChild(badge);
    card.addEventListener('click', ()=>openLightbox(i));
    g.appendChild(card);
  });
  scrollReveal();
}

/* ====== Lightbox ====== */
const lb = $('#lightbox'), lbImg = $('#lb-img');
function openLightbox(i){ idx=i; lb.classList.add('open'); lb.setAttribute('aria-hidden','false'); setLB(); }
function setLB(){ const p=flat[idx]; if(!p) return; lbImg.src=p.src; lbImg.alt=p.alt||'Foto'; }
function closeLB(){ lb.classList.remove('open'); lb.setAttribute('aria-hidden','true'); }
$('#lb-close').onclick=closeLB;
$('#lb-prev').onclick=()=>{ idx=(idx-1+flat.length)%flat.length; setLB(); };
$('#lb-next').onclick=()=>{ idx=(idx+1)%flat.length; setLB(); };
lb.addEventListener('click', e=>{ if(e.target===lb) closeLB(); });
document.addEventListener('keydown', e=>{
  if(!lb.classList.contains('open')) return;
  if(e.key==='Escape') closeLB();
  if(e.key==='ArrowLeft') $('#lb-prev').click();
  if(e.key==='ArrowRight') $('#lb-next').click();
});

/* ====== Upload (local only) ====== */
$('#btn-upload').onclick = ()=>$('#uploader').click();
$('#uploader').addEventListener('change', async (e)=>{
  const files = Array.from(e.target.files||[]);
  if(!files.length) return;
  const maxSide = 1600; // jaga ukuran supaya hemat storage
  for(const f of files){
    if(!f.type.startsWith('image/')) continue;
    const data = await fileToResizedDataURL(f, maxSide);
    const cur = readLocal(); cur.push(data); writeLocal(cur);
  }
  renderGallery(); e.target.value='';
});

// Resize before store
async function fileToResizedDataURL(file, maxSide=1600){
  const img = await new Promise((res,rej)=>{ const i=new Image(); i.onload=()=>res(i); i.onerror=rej; i.src=URL.createObjectURL(file); });
  const {width, height} = img; const scale = Math.min(1, maxSide/Math.max(width,height));
  const w = Math.round(width*scale), h = Math.round(height*scale);
  const c = document.createElement('canvas'); c.width=w; c.height=h;
  const ctx=c.getContext('2d'); ctx.drawImage(img,0,0,w,h);
  const mime = (file.type==='image/png')?'image/png':'image/jpeg';
  const q = mime==='image/jpeg'?0.86:1.0;
  const out = c.toDataURL(mime,q); URL.revokeObjectURL(img.src); return out;
}

/* ====== Clear & Export ====== */
$('#btn-clear').onclick = ()=>{
  if(confirm('Hapus semua unggahan lokal di perangkat ini?')){
    localStorage.removeItem(LOCAL_KEY); renderGallery();
  }
};
$('#btn-export').onclick = ()=>{
  const photos = readLocal();
  if(!photos.length){ alert('Album kosong.'); return; }
  const html = `
<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Export Album azhr_nit</title>
<style>body{margin:0;font-family:Inter,system-ui,sans-serif;background:#111;color:#eee}
.wrap{max-width:1040px;margin:auto;padding:20px}
.grid{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}
img{width:100%;height:100%;object-fit:cover;aspect-ratio:1/1;border-radius:12px}</style>
</head><body><div class="wrap"><h2>Export Album — azhr_nit</h2><div class="grid">
${photos.map(src=>`<img src="${src}" alt="foto">`).join('')}
</div></div></body></html>`;
  const blob = new Blob([html],{type:'text/html'});
  const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='album-azhr_nit.html'; a.click(); URL.revokeObjectURL(a.href);
};

/* ====== Notes ====== */
const NOTE_KEY='azhr_notes_v4';
const listEl = $('#notes-list');
const readNotes = () => JSON.parse(localStorage.getItem(NOTE_KEY)||'[]');
const writeNotes = n => localStorage.setItem(NOTE_KEY, JSON.stringify(n));
function renderNotes(){
  const data=readNotes().sort((a,b)=>b.time-a.time); listEl.innerHTML='';
  if(!data.length){ const empty=document.createElement('div'); empty.className='note'; empty.innerHTML='<small>Belum ada catatan. Tulis di atas lalu <b>Simpan</b>.</small>'; listEl.appendChild(empty); return; }
  for(const n of data){
    const el=document.createElement('div'); el.className='note reveal';
    const d=new Date(n.time);
    el.innerHTML=`<small>${d.toLocaleDateString('id-ID',{weekday:'long', day:'numeric', month:'long', year:'numeric', hour:'2-digit', minute:'2-digit'})}</small>
                  <div style="white-space:pre-wrap;margin-top:6px">${escapeHTML(n.text)}</div>`;
    const act=document.createElement('div'); act.className='actions';
    const del=document.createElement('button'); del.className='btn'; del.textContent='Hapus';
    del.onclick=()=>{ writeNotes(readNotes().filter(x=>x.id!==n.id)); renderNotes(); };
    act.appendChild(del); el.appendChild(act); listEl.appendChild(el);
  }
  scrollReveal();
}
function escapeHTML(s){return s.replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]))}
$('#note-form').addEventListener('submit', e=>{
  e.preventDefault();
  const val=$('#note-text').value.trim(); if(!val) return;
  const next=readNotes(); next.push({id:crypto.randomUUID(), time:Date.now(), text:val});
  writeNotes(next); $('#note-text').value=''; renderNotes();
});
$('#clear-notes').onclick=()=>{ if(confirm('Hapus semua catatan?')){ localStorage.removeItem(NOTE_KEY); renderNotes(); } };
$('#export-notes').onclick=()=>{
  const lines = readNotes().sort((a,b)=>a.time-b.time).map(n=>{
    const t=new Date(n.time).toLocaleString('id-ID'); return `[${t}] ${n.text}`;
  }).join('\n\n') || 'Belum ada catatan.';
  const blob = new Blob([lines],{type:'text/plain'}); const a=document.createElement('a');
  a.href=URL.createObjectURL(blob); a.download='catatan-harian.txt'; a.click(); URL.revokeObjectURL(a.href);
};

/* ====== Scroll reveal ====== */
function scrollReveal(){
  const els=$$('.reveal:not(.show)');
  const io=new IntersectionObserver((entries,obs)=>{
    entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); obs.unobserve(e.target);} });
  },{threshold:.08});
  els.forEach(el=>io.observe(el));
}

/* ====== Init ====== */
document.getElementById('year').textContent=new Date().getFullYear();
renderGallery(); renderNotes();
</script>
</body>
            </html>
